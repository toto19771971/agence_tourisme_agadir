{% extends "base.html" %}
{% set title = "Contact / Réservation" %}

{% block content %}

<div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-end gap-3 mb-3">
  <div>
    <div class="section-title">Contact</div>
    <h1 class="mt-2 mb-1" style="font-weight:900;">{{ tr('contact_title') }}</h1>
    <div class="small-muted">{{ tr('contact_sub') }}</div>
  </div>
  <div class="d-flex gap-2">
    <a class="btn btn-outline-secondary" href="{{ url_for('home') }}">{{ tr('back') }}</a>
  </div>
</div>

{% if sent %}
  <div class="p-4 rounded-4 mb-4" class="panel">
    <div class="fw-bold">{{ tr('sent_ok') }}</div>
    <div class="small-muted mt-1">{{ tr('sent_ok_sub') }}</div>
  </div>
{% endif %}

<div class="p-4 rounded-4" class="panel">
  <form class="row g-3" method="post" action="{{ url_for('contact') }}">
    <div class="col-12 col-md-6">
      <label class="form-label fw-bold">{{ tr('f_name') }}</label>
      <input class="form-control" name="nom" required>
    </div>
    <div class="col-12 col-md-6">
      <label class="form-label fw-bold">{{ tr('f_email') }}</label>
      <input class="form-control" type="email" name="email" required>
    </div>
    <div class="col-12 col-md-6">
      <label class="form-label fw-bold">{{ tr('f_phone') }}</label>
      <input class="form-control" name="telephone" placeholder="+41 ..." required>
    </div>
    <div class="col-12 col-md-6">
      <label class="form-label fw-bold">{{ tr('f_region') }}</label>
      <input class="form-control" name="region" placeholder="Agadir, Tafraout, ...">
    </div>

    <div class="col-12 col-md-4">
      <label class="form-label fw-bold">{{ tr('f_date_from') }}</label>
      <input class="form-control" type="date" name="date_debut">
    </div>
    <div class="col-12 col-md-4">
      <label class="form-label fw-bold">{{ tr('f_date_to') }}</label>
      <input class="form-control" type="date" name="date_fin">
    </div>
    <div class="col-12 col-md-4">
      <label class="form-label fw-bold">{{ tr('f_people') }}</label>
      <input class="form-control" type="number" min="1" name="voyageurs" value="2">
    </div>

    <div class="col-12">
      <label class="form-label fw-bold">{{ tr('f_activities') }}</label>
      <div class="d-flex flex-wrap gap-2">
        {% for a in ["Balade à cheval","Chameau / désert","Quad / buggy","Jet-ski","Cours de cuisine","Patrimoine / visites","Randonnée","Autre"] %}
          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="activites" value="{{ a }}" id="a{{ loop.index }}">
            <label class="form-check-label" for="a{{ loop.index }}">{{ a }}</label>
          </div>
        {% endfor %}
      </div>
    </div>

    <div class="col-12">
      <label class="form-label fw-bold">{{ tr('f_message') }}</label>
      <textarea class="form-control" name="message" rows="4" placeholder="{{ tr('f_message_ph') }}"></textarea>
    </div>

    <div class="col-12 d-flex gap-2 flex-wrap">
      <button class="btn btn-danger fw-bold" type="submit">{{ tr('send') }}</button>
      <a class="btn btn-outline-primary" href="https://www.paypal.com" target="_blank" rel="noopener">{{ tr('pay_paypal') }}</a>
    </div>

    <div class="col-12 small-muted">
      Paiement : en général, PayPal apparaît au moment du paiement (checkout). Ici, c’est un placeholder.
    </div>
  </form>

    <div class="mt-4 panel p-3">
      <div class="section-title">{{ tr('payment') }}</div>
      <div class="small-muted mt-2">{{ tr('payment_note') }}</div>
      <div class="d-flex flex-wrap gap-2 mt-3 align-items-center">
        <img src="{{ url_for('static', filename='pay/paypal.svg') }}" alt="PayPal" style="height:34px;">
        <img src="{{ url_for('static', filename='pay/visa.svg') }}" alt="Visa" style="height:34px;">
        <img src="{{ url_for('static', filename='pay/mastercard.svg') }}" alt="Mastercard" style="height:34px;">
      </div>
      <div class="mt-3">
        <a class="btn btn-outline-primary" href="https://www.paypal.com" target="_blank" rel="noopener">{{ tr('pay_paypal') }}</a>
      </div>
    </div>

</div>

{% endblock %}