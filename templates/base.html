<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ title or "Voyages" }}</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

<nav class="navbar navbar-light sticky-top" style="background: rgba(247,251,255,.78); border-bottom:1px solid rgba(15,23,42,.10);">
  <div class="container py-2 d-flex align-items-center gap-3">

    <a class="navbar-brand brand-stack flex-shrink-0" href="{{ url_for('home') }}">
      <img src="{{ url_for('static', filename='logo_icon.svg') }}" class="brand-logo" alt="Logo">
      <div class="brand-name">Souss Aventures</div>
    </a>

    <div class="main-nav-wrap d-none d-md-flex flex-grow-1 justify-content-center">
      <div class="main-nav d-flex gap-2">
        <a class="main-nav-link" href="{{ url_for('home') }}">{{ tr('nav_home') }}</a>
        <a class="main-nav-link" href="{{ url_for('contact') }}">{{ tr('nav_contact') }}</a>
        <a class="main-nav-link" href="{{ url_for('tarifs') }}">{{ tr('nav_tarifs') }}</a>
      </div>
    </div>

    <div class="ms-auto d-flex gap-2 align-items-center lang-flags flex-shrink-0">

      <form method="post" action="{{ url_for('set_lang', lang_code='fr') }}" class="m-0">
        <button type="submit" class="flag-btn" aria-label="Français">
          <img src="{{ url_for('static', filename='flags/fr.svg') }}" class="flag-img" alt="Français">
        </button>
      </form>

      <form method="post" action="{{ url_for('set_lang', lang_code='en') }}" class="m-0">
        <button type="submit" class="flag-btn" aria-label="English">
          <img src="{{ url_for('static', filename='flags/gb.svg') }}" class="flag-img" alt="English">
        </button>
      </form>

      <form method="post" action="{{ url_for('set_lang', lang_code='de') }}" class="m-0">
        <button type="submit" class="flag-btn" aria-label="Deutsch">
          <img src="{{ url_for('static', filename='flags/de.svg') }}" class="flag-img" alt="Deutsch">
        </button>
      </form>

    </div>

  </div>

  <div class="container pb-2 d-flex d-md-none justify-content-center">
    <div class="main-nav d-flex gap-2 flex-wrap justify-content-center">
      <a class="main-nav-link" href="{{ url_for('home') }}">{{ tr('nav_home') }}</a>
      <a class="main-nav-link" href="{{ url_for('contact') }}">{{ tr('nav_contact') }}</a>
      <a class="main-nav-link" href="{{ url_for('tarifs') }}">{{ tr('nav_tarifs') }}</a>
    </div>
  </div>
</nav>

<main class="container my-4 my-md-5">
  {% block content %}{% endblock %}
</main>

<footer class="footer mt-5">
  <div class="container py-4 d-flex flex-column flex-md-row justify-content-between gap-2">
    <div>© {{ 2026 }} Voyages</div>
    <div>{{ tr('footer_contact') }}</div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
(function(){
  function onScroll(){
    var els = document.querySelectorAll('.reveal');
    var vh = window.innerHeight || document.documentElement.clientHeight;
    for(var i=0;i<els.length;i++){
      var r = els[i].getBoundingClientRect();
      if(r.top < vh - 60){
        els[i].classList.add('reveal-on');
      }
    }
  }
  document.addEventListener('scroll', onScroll, {passive:true});
  window.addEventListener('load', onScroll);
  onScroll();
})();
</script>

</body>
</html>
